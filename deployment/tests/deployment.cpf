<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "cpf.dtd">
<properties>

  <!-- Component 3 , already loaded in the application ! -->
  <struct name="ComponentC" type="PropertyBag">
    <struct name="Activity" type="Activity">
      <simple name="Period" type="double"><value>0.41</value></simple>
      <simple name="Priority" type="short"><value>1</value></simple>
      <simple name="Scheduler" type="string"><value>ORO_SCHED_RT</value></simple>
      <simple name="CpuAffinity" type="ushort"><value>3</value></simple>
    </struct>
    <simple name="AutoConf" type="boolean"><value>1</value></simple>
    <simple name="AutoStart" type="boolean"><value>1</value></simple>
  </struct>

  <!-- Default connection policy -->
  <struct name="Default" type="ConnPolicy">
    <simple name="type" type="long"><value>0</value></simple>
    <simple name="size" type="long"><value>99</value></simple>
    <simple name="buffer_policy" type="long"><value>4</value></simple>
    <simple name="lock_policy" type="long"><value>1</value></simple>
  </struct>

  <!-- Connection policy -->
  <struct name="AConnection" type="ConnPolicy">
    <simple name="type" type="short"><value>1</value></simple>
    <simple name="size" type="short"><value>12</value></simple>
  </struct>

  <!-- Component 1, already loaded in the application ! -->
  <struct name="ComponentA" type="PropertyBag">
    <struct name="Peers"  type="PropertyBag">
      <simple type="string"><value>ComponentB</value></simple>
    </struct>

    <struct name="Ports"  type="PropertyBag">
      <simple name="p1" type="string"><value>AConnection</value></simple>
      <simple name="p2" type="string"><value>BConnection</value></simple>
    </struct>
    <struct name="Activity" type="PeriodicActivity">
      <simple name="Period" type="double"><value>0.1</value></simple>
      <simple name="Priority" type="short"><value>0</value></simple>
    </struct>
    <simple name="AutoConf" type="boolean"><value>1</value></simple>
    <simple name="AutoStart" type="boolean"><value>1</value></simple>
    <simple name="AutoSave" type="boolean"><value>1</value></simple>
    <simple name="UpdateProperties" type="string"><value>ComponentA.cpf</value></simple>
  </struct>

  <!-- Component 2 , already loaded in the application ! -->
  <struct name="ComponentB" type="PropertyBag">
    <struct name="Peers"  type="PropertyBag">
      <simple type="string"><value>ComponentA</value></simple>
    </struct>

    <struct name="Ports"  type="PropertyBag">
      <simple name="p2" type="string"><value>AConnection</value></simple>
      <simple name="p1" type="string"><value>BConnection</value></simple>
    </struct>

    <struct name="Activity" type="PeriodicActivity">
      <simple name="Period" type="double"><value>0.1</value></simple>
      <simple name="Priority" type="short"><value>0</value></simple>
    </struct>
    <simple name="AutoConf" type="boolean"><value>1</value></simple>
    <simple name="AutoStart" type="boolean"><value>1</value></simple>
    <simple name="UpdateProperties" type="string"><value>ComponentB.cpf</value></simple>
  </struct>

  <!-- Component 2 , This overrides the options above -->
  <struct name="ComponentB" type="PropertyBag">
    <simple name="AutoConf" type="boolean"><value>1</value></simple>
    <simple name="AutoStart" type="boolean"><value>0</value></simple>
    <simple name="AutoSave" type="boolean"><value>1</value></simple>
  </struct>

  <!-- Component 4 , already loaded in the application ! -->
  <struct name="ComponentD" type="PropertyBag">
    <struct name="Activity" type="Activity">
      <simple name="Period" type="double"><value>0.2</value></simple>
      <simple name="Priority" type="short"><value>1</value></simple>
      <simple name="Scheduler" type="string"><value>ORO_SCHED_RT</value></simple>
      <simple name="CpuAffinity" type="ushort"><value>3</value></simple>
    </struct>
    <simple name="AutoConf" type="boolean"><value>1</value></simple>
    <simple name="AutoStart" type="boolean"><value>1</value></simple>
    <struct name="Ports"  type="PropertyBag">
        <simple name="d2" type="string"><value>AConnection</value></simple>
        <simple name="d1" type="string"><value>BConnection</value></simple>
    </struct>
  </struct>

</properties>
